# מערכת ההדרכה של PinFlux

## סקירה כללית

מערכת ההדרכה מספקת הדרכה אינטראקטיבית למשתמשים חדשים ומשתמשים קיימים כדי ללמוד על תכונות התוסף.

## רכיבים עיקריים

### 1. TutorialManager (`tutorialManager.ts`)
- מנהל את זרימת ההדרכה
- מטפל בניווט בין שלבים
- שומר את התקדמות המשתמש
- מציג טיפים ויזואליים

### 2. TutorialFeatures (`tutorialFeatures.ts`)
- מגדיר את כל התכונות ושלבי ההדרכה
- מכיל מידע על:
  - סלקטורי CSS לאלמנטים
  - מיקום הטיפים
  - תנאים מוקדמים
  - מפתחות תרגום

### 3. הודעות מתורגמות
- כל הטקסט משתמש ב-API של browser.i18n
- תמיכה בעברית, יפנית וקוריאנית
- מפתחות ההודעות מוגדרים בקבצי messages.json

## תכונות שנתמכות בהדרכה

### 1. קיבוץ צ'אטים (Pin Chats)
- הסבר איך לפתוח תפריט אפשרויות
- הדגמת לחיצה על "קבץ צ'אט"
- הצגת אזור הצ'אטים המקובצים

### 2. גרור ושחרר (Drag & Drop)
- איך לסדר מחדש צ'אטים מקובצים
- הדגמת הפעולה

### 3. סימניות (Bookmarks)
- איך להוסיף סימנייה להודעה
- איך לפתוח תפריט הסימניות
- ניהול סימניות

### 4. שינוי שם צ'אטים
- איך לפתוח תפריט צ'אט מקובץ
- איך לבחור באפשרות "שנה שם"

### 5. קיצורי מקלדת
- הסבר על קיצורים זמינים
- איך לשנות קיצורים

## איך להפעיל הדרכה

### הפעלה אוטומטית
- ההדרכה מתחילה אוטומטית למשתמשים חדשים
- נבדק אם יש תכונות שלא הושלמו

### הפעלה ידנית
1. פתח את פופאפ התוסף
2. לחץ על כפתור "התחל הדרכה"
3. ההדרכה תתחיל מהתחלה

### מסודי פיתוח
```typescript
import { tutorialManager } from '@/components/tutorial/tutorialManager'

// התחל הדרכה מתכונה מסוימת
tutorialManager.startTutorial('pin_chats', true)

// איפוס התקדמות
tutorialManager.resetProgress()

// בדיקה אם צריך התחלה אוטומטית
const shouldStart = await tutorialManager.shouldAutoStart()
```

## מזהים מיוחדים לסלקטורים

כדי להבטיח שההדרכה תמצא את האלמנטים הנכונים, נוספו מזהים מיוחדים:

- `[data-pinflux-pin-button]` - כפתור קיבוץ צ'אט
- `[data-pinflux-unpin-button]` - כפתור ביטול קיבוץ
- `[data-pinflux-pinned-chat]` - צ'אט מקובץ
- `[data-bookmark-button]` - כפתור סימנייה
- `[data-bookmarks-menu-button]` - כפתור תפריט סימניות
- `#pinnedContainer` - מכל הצ'אטים המקובצים
- `#bookmarks-dropdown` - תפריט הסימניות

## הוספת תכונות חדשות להדרכה

1. הוסף תכונה חדשה ב-`tutorialFeatures.ts`
2. הגדר שלבים עם סלקטורים מתאימים
3. הוסף הודעות תרגום לכל השפות
4. וודא שהרכיבים בקוד יש להם מזהים מתאימים

## בעיות נפוצות ופתרונות

### האלמנט לא נמצא
- וודא שהסלקטור נכון
- בדוק שהאלמנט נטען לפני ההדרכה
- השתמש ב-prerequisite functions

### הטיפ לא מוצג במקום הנכון
- בדוק את ה-position parameter
- ודא שהאלמנט היעד נמצא בחלק הנראה של המסך
- התאם את הלוגיקה ב-positionTooltip

### התרגום לא עובד
- וודא שמפתח ההודעה קיים בכל קבצי messages.json
- בדוק שה-browser.i18n.getMessage נקרא נכון
